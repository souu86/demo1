<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIå”åƒç‘æƒ³ã‚·ã‚¹ãƒ†ãƒ  - Windows Desktop</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Noto Serif JP', 'STSong', 'SimSun', serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            overflow: hidden;
            position: relative;
        }

        /* Windowsæ¡Œé¢ */
        .windows-desktop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            z-index: 1;
        }

        /* æ¡Œé¢å›¾æ ‡ */
        .desktop-icons {
            position: absolute;
            top: 20px;
            left: 20px;
            display: grid;
            gap: 20px;
        }

        .desktop-icon {
            width: 70px;
            text-align: center;
            color: white;
            font-size: 0.75em;
            cursor: pointer;
            padding: 5px;
            border-radius: 2px;
            transition: background 0.2s;
        }

        .desktop-icon:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .icon-img {
            width: 40px;
            height: 40px;
            margin: 0 auto 5px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        /* ä»»åŠ¡æ  */
        .taskbar {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 48px;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            padding: 0 10px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .start-button {
            width: 48px;
            height: 36px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            cursor: pointer;
            color: white;
            font-size: 18px;
        }

        .start-button:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .taskbar-app {
            height: 36px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            display: flex;
            align-items: center;
            padding: 0 12px;
            margin-right: 10px;
            cursor: pointer;
            color: white;
            font-size: 14px;
            gap: 8px;
            transition: background 0.2s;
        }

        .taskbar-app:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .taskbar-app.active {
            background: rgba(255, 255, 255, 0.3);
            border-bottom: 2px solid #0078d4;
        }

        .taskbar-time {
            margin-left: auto;
            color: white;
            font-size: 12px;
            text-align: right;
            line-height: 1.2;
        }

        /* åº”ç”¨çª—å£ */
        .app-window {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 85%;
            height: 85%;
            max-width: 800px;
            max-height: 650px;
            background: #f0f0f0;
            border-radius: 8px 8px 0 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            display: none;
            flex-direction: column;
            z-index: 100;
        }

        .app-window.active {
            display: flex;
        }

        /* æ ‡é¢˜æ  */
        .window-titlebar {
            height: 32px;
            background: linear-gradient(to bottom, #e8e8e8, #d0d0d0);
            border-radius: 8px 8px 0 0;
            display: flex;
            align-items: center;
            padding: 0 12px;
            border-bottom: 1px solid #c0c0c0;
            cursor: move;
            user-select: none;
        }

        .window-titlebar:active {
            cursor: grabbing;
        }

        .window-title {
            flex: 1;
            font-size: 12px;
            color: #333;
            font-weight: 400;
        }

        .window-controls {
            display: flex;
            gap: 2px;
        }

        .window-control {
            width: 16px;
            height: 14px;
            border: 1px solid #999;
            background: linear-gradient(to bottom, #f0f0f0, #d8d8d8);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 8px;
            color: #333;
        }

        .window-control:hover {
            background: linear-gradient(to bottom, #f8f8f8, #e0e0e0);
        }

        .window-minimize::after {
            content: 'âˆ’';
        }

        .window-maximize::after {
            content: 'â–¡';
        }

        .window-close {
            background: linear-gradient(to bottom, #ff6b6b, #ff5252);
            color: white;
        }

        .window-close::after {
            content: 'Ã—';
        }

        .window-control.disabled {
            background: linear-gradient(to bottom, #e0e0e0, #c0c0c0);
            color: #999;
            cursor: not-allowed;
            opacity: 0.5;
        }

        .window-control.disabled:hover {
            background: linear-gradient(to bottom, #e0e0e0, #c0c0c0);
        }

        /* åº”ç”¨å†…å®¹ */
        .app-content {
            flex: 1;
            background: white;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .container {
            flex: 1;
            padding: 20px 30px;
            overflow-y: auto;
            background: rgba(255, 255, 255, 0.95);
        }

        /* è‡ªå®šä¹‰æ»šåŠ¨æ¡ */
        .container::-webkit-scrollbar {
            width: 6px;
        }

        .container::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.02);
        }

        .container::-webkit-scrollbar-thumb {
            background: rgba(0, 0, 0, 0.1);
            border-radius: 3px;
        }

        .container::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 0, 0, 0.2);
        }

        .screen {
            display: none;
            animation: fadeIn 0.8s ease;
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h1 {
            font-size: 2.8em;
            color: #1a1a1a;
            margin-bottom: 10px;
            text-align: center;
            font-weight: 300;
            letter-spacing: 0.1em;
        }

        h2 {
            font-size: 2em;
            color: #2a2a2a;
            margin-bottom: 30px;
            text-align: center;
            font-weight: 300;
            letter-spacing: 0.05em;
        }

        p {
            color: #4a4a4a;
            line-height: 1.8;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.1em;
            font-weight: 300;
        }

        /* è¯­è¨€é€‰æ‹©å™¨ - æç®€é£æ ¼ */
        .language-selector {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 0;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 20px;
            padding: 2px;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .lang-btn {
            padding: 6px 16px;
            border: none;
            background: transparent;
            border-radius: 18px;
            cursor: pointer;
            transition: all 0.4s ease;
            font-size: 0.9em;
            color: #666;
            font-family: inherit;
        }

        .lang-btn:hover {
            color: #333;
        }

        .lang-btn.active {
            background: #1a1a1a;
            color: white;
        }

        /* ä»»åŠ¡é€‰æ‹© - æ°´å¢¨å¡ç‰‡ */
        .task-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 40px;
        }

        .task-card {
            background: rgba(255, 255, 255, 0.6);
            border: 1px solid rgba(0, 0, 0, 0.08);
            border-radius: 2px;
            padding: 30px;
            cursor: pointer;
            transition: all 0.5s ease;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .task-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, transparent, rgba(0, 0, 0, 0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.5s ease;
        }

        .task-card:hover::before {
            transform: translateX(100%);
        }

        .task-card:hover {
            background: rgba(255, 255, 255, 0.9);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
        }

        .task-card.selected {
            background: rgba(0, 0, 0, 0.03);
            border-color: rgba(0, 0, 0, 0.2);
        }

        .task-icon {
            font-size: 2.5em;
            margin-bottom: 15px;
            opacity: 0.7;
        }

        .task-name {
            font-size: 1.2em;
            color: #2a2a2a;
            margin-bottom: 8px;
            font-weight: 300;
        }

        .task-duration {
            font-size: 0.9em;
            color: #666;
            font-weight: 300;
        }

        /* è¿”å›æŒ‰é’® */
        .back-button {
            position: absolute;
            top: 20px;
            left: 20px;
            width: 40px;
            height: 40px;
            background: rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 18px;
        }

        .back-button:hover {
            background: rgba(0, 0, 0, 0.1);
            transform: translateX(-2px);
        }

        /* ä¸‹ä¸€é¡µæŒ‰é’® */
        .next-button {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            background: rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 18px;
        }

        .next-button:hover {
            background: rgba(0, 0, 0, 0.1);
            transform: translateX(2px);
        }

        /* æç®€æŒ‰é’® */
        .btn {
            background: #1a1a1a;
            color: white;
            border: none;
            padding: 12px 40px;
            border-radius: 2px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.4s ease;
            display: inline-block;
            margin: 30px auto;
            font-family: inherit;
            font-weight: 300;
            letter-spacing: 0.05em;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s ease, height 0.6s ease;
        }

        .btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn:hover {
            box-shadow: 0 3px 15px rgba(0, 0, 0, 0.15);
        }

        .btn.secondary {
            background: transparent;
            color: #1a1a1a;
            border: 1px solid #1a1a1a;
        }

        .btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        /* æµç¨‹è¯´æ˜ */
        .flow-section {
            margin-top: 50px;
            padding-top: 40px;
            border-top: 1px solid rgba(0, 0, 0, 0.05);
        }

        .flow-list {
            list-style: none;
            padding: 0;
            margin: 30px 0;
        }

        .flow-list li {
            padding: 15px 0;
            color: #4a4a4a;
            position: relative;
            padding-left: 30px;
            font-weight: 300;
            line-height: 1.6;
        }

        .flow-list li::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 8px;
            height: 8px;
            background: #1a1a1a;
            border-radius: 50%;
            opacity: 0.3;
        }

        /* å†¥æƒ³ç•Œé¢ - æç®€ç¦…æ„ */
        .meditation-container {
            text-align: center;
            padding: 40px;
        }

        /* Windowsé£æ ¼è¿›åº¦æ¡ */
        .windows-progress-container {
            margin: 30px auto;
            width: 400px;
            max-width: 90%;
        }

        .countdown-display {
            text-align: center;
            margin-bottom: 20px;
            font-size: 2.2em;
            color: #1a1a1a;
            font-weight: 300;
            letter-spacing: 0.05em;
        }

        .countdown-total {
            font-size: 0.5em;
            color: #666;
            display: block;
            margin-top: 5px;
        }

        .windows-progress-bar {
            position: relative;
            width: 100%;
            height: 24px;
            background: #f0f0f0;
            border: 2px inset #d4d0c8;
            border-radius: 0;
            overflow: hidden;
            box-shadow: inset 1px 1px 2px rgba(0, 0, 0, 0.1);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to bottom, #0078d4 0%, #106ebe 50%, #005a9e 51%, #004578 100%);
            width: 0%;
            transition: width 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .progress-fill::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 40%;
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0.3), transparent);
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% {
                left: -100%;
            }

            100% {
                left: 100%;
            }
        }

        .progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 11px;
            color: #333;
            font-weight: bold;
            text-shadow: 1px 1px 1px rgba(255, 255, 255, 0.8);
            z-index: 2;
        }

        .breath-circle {
            width: 180px;
            height: 180px;
            margin: 40px auto;
            background: radial-gradient(circle, rgba(0, 0, 0, 0.02), rgba(0, 0, 0, 0));
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: breathe 4s ease-in-out infinite;
            position: relative;
        }

        @keyframes breathe {

            0%,
            100% {
                transform: scale(1);
                border-color: rgba(0, 0, 0, 0.1);
            }

            50% {
                transform: scale(1.15);
                border-color: rgba(0, 0, 0, 0.2);
            }
        }

        .breath-text {
            color: #2a2a2a;
            font-size: 1.1em;
            font-weight: 300;
            letter-spacing: 0.1em;
        }

        /* è¯„ä¼°æ¸…å• - æ°´å¢¨é£æ ¼ */
        .checklist {
            margin: 30px 0;
        }

        .checklist-item {
            padding: 20px;
            margin: 15px 0;
            background: rgba(255, 255, 255, 0.5);
            border: 1px solid rgba(0, 0, 0, 0.05);
            border-radius: 2px;
            cursor: pointer;
            transition: all 0.4s ease;
            display: flex;
            align-items: flex-start;
        }

        .checklist-item:hover {
            background: rgba(255, 255, 255, 0.8);
            transform: translateX(5px);
        }

        .checklist-item.checked {
            background: rgba(0, 0, 0, 0.03);
        }

        .check-circle {
            width: 20px;
            height: 20px;
            border: 2px solid rgba(0, 0, 0, 0.3);
            border-radius: 3px;
            margin-right: 20px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            margin-top: 2px;
            background: white;
            font-size: 14px;
        }

        .checklist-item.checked .check-circle {
            background: #4CAF50;
            border-color: #4CAF50;
            color: white;
        }

        .checklist-item.checked .check-circle::after {
            content: 'âœ“';
            font-weight: bold;
        }

        .checklist-text {
            flex: 1;
            text-align: left;
        }

        .checklist-title {
            font-size: 1.05em;
            color: #2a2a2a;
            margin-bottom: 5px;
            font-weight: 400;
        }

        .checklist-desc {
            font-size: 0.9em;
            color: #666;
            font-weight: 300;
            line-height: 1.5;
        }

        /* ç¡®è®¤ç•Œé¢ */
        .confirmation {
            text-align: center;
            padding: 60px 40px;
        }

        .space-hint {
            display: inline-block;
            padding: 15px 30px;
            background: rgba(0, 0, 0, 0.03);
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 2px;
            margin-top: 40px;
            color: #4a4a4a;
            font-size: 1em;
            font-weight: 300;
            letter-spacing: 0.05em;
            animation: pulse 3s ease-in-out infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 0.6;
            }

            50% {
                opacity: 1;
            }
        }

        .hold-progress {
            width: 300px;
            height: 30px;
            background: #f0f0f0;
            border: 2px solid #ddd;
            border-radius: 15px;
            margin: 40px auto;
            overflow: hidden;
            display: none;
            position: relative;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .hold-progress.active {
            display: block;
        }

        .hold-bar {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #45a049);
            border-radius: 13px;
            width: 0%;
            transition: width 5s linear;
            position: relative;
            overflow: hidden;
        }

        .hold-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 40%;
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0.3), transparent);
            border-radius: 13px 13px 0 0;
        }

        .hold-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: shimmer 2s infinite;
        }

        /* å®Œæˆå¯¹è¯æ¡† - Windowsé£æ ¼ */
        .completion-dialog {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 480px;
            background: #f0f0f0;
            border: 2px outset #d4d0c8;
            box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.3);
            z-index: 200;
            display: none;
        }

        .completion-dialog.active {
            display: block;
        }

        .dialog-titlebar {
            height: 24px;
            background: linear-gradient(to bottom, #0078d4, #005a9e);
            color: white;
            display: flex;
            align-items: center;
            padding: 0 8px;
            font-size: 11px;
            font-weight: bold;
        }

        .dialog-titlebar .title {
            flex: 1;
        }

        .dialog-close {
            width: 16px;
            height: 14px;
            background: linear-gradient(to bottom, #ff6b6b, #ff5252);
            border: 1px outset #ff6b6b;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
        }

        .dialog-close:hover {
            background: linear-gradient(to bottom, #ff8a80, #ff6b6b);
        }

        /* ä»»åŠ¡å¤„ç†çª—å£ */
        .task-window {
            position: absolute;
            top: 10%;
            right: 5%;
            width: 400px;
            height: 300px;
            background: #f0f0f0;
            border-radius: 8px 8px 0 0;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            display: none;
            flex-direction: column;
            z-index: 90;
        }

        .task-window.active {
            display: flex;
        }

        .task-window .window-titlebar {
            background: linear-gradient(to bottom, #0078d4, #005a9e);
            color: white;
        }

        .task-content {
            flex: 1;
            padding: 20px;
            background: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .task-animation {
            font-size: 48px;
            margin-bottom: 20px;
            animation: taskPulse 2s ease-in-out infinite;
        }

        @keyframes taskPulse {

            0%,
            100% {
                transform: scale(1);
                opacity: 0.8;
            }

            50% {
                transform: scale(1.1);
                opacity: 1;
            }
        }

        .task-progress {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
            margin: 20px 0;
        }

        .task-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #0078d4, #00bcf2);
            width: 0%;
            transition: width 0.3s ease;
            animation: progressShimmer 2s infinite;
        }

        @keyframes progressShimmer {
            0% {
                background-position: -200px 0;
            }

            100% {
                background-position: 200px 0;
            }
        }

        .task-status {
            font-size: 14px;
            color: #666;
            margin-top: 10px;
        }

        .task-result {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .task-result.active {
            display: block;
        }

        .result-icon {
            font-size: 64px;
            margin-bottom: 20px;
            color: #4CAF50;
        }

        .result-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }

        .result-description {
            font-size: 14px;
            color: #666;
            line-height: 1.5;
        }

        .dialog-content h3 {
            color: #1a1a1a;
            font-size: 1.6em;
            margin-bottom: 20px;
            font-weight: 300;
            text-align: center;
        }

        .value-points {
            list-style: none;
            padding: 0;
            margin: 30px 0;
        }

        .value-points li {
            padding: 10px 0;
            color: #4a4a4a;
            font-size: 0.95em;
            display: flex;
            align-items: flex-start;
            font-weight: 300;
            line-height: 1.5;
        }

        .value-points li::before {
            content: 'âœ“';
            margin-right: 12px;
            color: #4CAF50;
            font-weight: bold;
            flex-shrink: 0;
        }

        .dialog-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .container {
                width: 95%;
                padding: 30px 20px;
            }

            .task-grid {
                grid-template-columns: 1fr;
            }

            .completion-dialog {
                width: 90%;
                padding: 30px 20px;
            }

            .windows-progress-container {
                width: 100%;
            }
        }
    </style>
</head>

<body>
    <!-- Windowsæ¡Œé¢ -->
    <div class="windows-desktop">
        <!-- æ¡Œé¢å›¾æ ‡ -->
        <div class="desktop-icons">
            <div class="desktop-icon" ondblclick="openApp()">
                <div class="icon-img">ğŸ§˜</div>
                <div>AI Meditation</div>
            </div>
            <div class="desktop-icon">
                <div class="icon-img">ğŸ’»</div>
                <div>This PC</div>
            </div>
            <div class="desktop-icon">
                <div class="icon-img">ğŸ“</div>
                <div>Documents</div>
            </div>
            <div class="desktop-icon">
                <div class="icon-img">ğŸ—‘ï¸</div>
                <div>Recycle Bin</div>
            </div>
        </div>

        <!-- ä»»åŠ¡æ  -->
        <div class="taskbar">
            <div class="start-button">âŠ</div>
            <div class="taskbar-app active" id="taskbar-app" style="display: none;" onclick="focusApp()">
                <span>ğŸ§˜</span>
                <span>AI Meditation System</span>
            </div>
            <div class="taskbar-app" id="taskbar-task" style="display: none;" onclick="focusTaskWindow()">
                <span id="taskbar-task-icon">ğŸ“§</span>
                <span id="taskbar-task-name">Email Processing</span>
            </div>
            <div class="taskbar-time" id="taskbar-time"></div>
        </div>
    </div>

    <!-- åº”ç”¨çª—å£ -->
    <div class="app-window" id="app-window">
        <!-- æ ‡é¢˜æ  -->
        <div class="window-titlebar">
            <div class="window-title">AIå”åƒç‘æƒ³ã‚·ã‚¹ãƒ†ãƒ  - Meditation.exe</div>
            <div class="window-controls">
                <div class="window-control window-minimize" onclick="minimizeApp()"></div>
                <div class="window-control window-maximize" onclick="maximizeApp()"></div>
                <div class="window-control window-close" onclick="closeApp()"></div>
            </div>
        </div>

        <!-- åº”ç”¨å†…å®¹ -->
        <div class="app-content">
            <div class="container" id="main-container">
                <!-- æ¬¢è¿ç•Œé¢ -->
                <div class="screen active" id="welcome">
                    <div class="language-selector">
                        <button class="lang-btn active" onclick="changeLanguage('ja')">æ—¥æœ¬èª</button>
                        <button class="lang-btn" onclick="changeLanguage('en')">English</button>
                        <button class="lang-btn" onclick="changeLanguage('zh')">ä¸­æ–‡</button>
                    </div>

                    <h1 id="main-title">AIå”åƒç‘æƒ³ã‚·ã‚¹ãƒ†ãƒ </h1>
                    <p id="main-subtitle">å¾…ã¡æ™‚é–“ã‚’å›å¾©æ™‚é–“ã«å¤‰ãˆã‚‹</p>

                    <h2 id="task-title" style="margin-top: 50px; font-size: 1.3em;">ä½œæ¥­ã‚’é¸æŠã—ã¦ãã ã•ã„</h2>
                    <div class="task-grid">
                        <div class="task-card" onclick="selectTask('email')">
                            <div class="task-icon">âœ‰</div>
                            <div class="task-name" data-i18n="task-email">ãƒ¡ãƒ¼ãƒ«ä½œæˆ</div>
                            <div class="task-duration" data-i18n="task-email-duration">ç‘æƒ³: 2-3åˆ†</div>
                        </div>
                        <div class="task-card" onclick="selectTask('report')">
                            <div class="task-icon">ğŸ“‹</div>
                            <div class="task-name" data-i18n="task-report">ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ</div>
                            <div class="task-duration" data-i18n="task-report-duration">ç‘æƒ³: 5-7åˆ†</div>
                        </div>
                        <div class="task-card" onclick="selectTask('code')">
                            <div class="task-icon">âš™</div>
                            <div class="task-name" data-i18n="task-code">ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ</div>
                            <div class="task-duration" data-i18n="task-code-duration">ç‘æƒ³: 3-5åˆ†</div>
                        </div>
                        <div class="task-card" onclick="selectTask('analysis')">
                            <div class="task-icon">ğŸ“Š</div>
                            <div class="task-name" data-i18n="task-analysis">ãƒ‡ãƒ¼ã‚¿åˆ†æ</div>
                            <div class="task-duration" data-i18n="task-analysis-duration">ç‘æƒ³: 4-6åˆ†</div>
                        </div>
                    </div>
                </div>

                <!-- æµç¨‹è¯´æ˜ç•Œé¢ -->
                <div class="screen" id="flow-screen">
                    <div class="back-button" onclick="goBack()">â†</div>
                    <div class="next-button" onclick="startDemo()">â†’</div>
                    <h1 id="flow-title">ä½“é¨“ãƒ•ãƒ­ãƒ¼</h1>
                    <p id="selected-task-display" style="font-size: 1.2em; margin: 30px 0;"></p>

                    <ul class="flow-list" id="feature-list">
                        <li>AIãŒã‚¿ã‚¹ã‚¯ã®å‡¦ç†ã‚’é–‹å§‹</li>
                        <li>é©åˆ‡ãªç‘æƒ³ã§ãƒ‡ã‚¸ã‚¿ãƒ«ç–²åŠ´ã¨æˆ¦ã†</li>
                        <li>ã€Œå—å‹•çš„å—ä¿¡ã€ã‹ã‚‰ã€Œèƒ½å‹•çš„è©•ä¾¡ã€ã¸</li>
                        <li>ç‰©ç†çš„ç¢ºèªã§æ³¨æ„åŠ›ã‚’å›å¾©</li>
                    </ul>

                    <div style="text-align: center;">
                        <button class="btn" id="start-btn" onclick="startDemo()">ä½“é¨“ã‚’é–‹å§‹</button>
                    </div>
                </div>

                <!-- å†¥æƒ³ç•Œé¢ -->
                <div class="screen" id="meditation">
                    <div class="back-button" onclick="goBack()">â†</div>
                    <div class="next-button" onclick="finishMeditation()">â†’</div>
                    <div class="meditation-container">
                        <h2 id="meditation-title">å‘¼å¸ã‚¨ã‚¯ã‚µã‚µã‚¤ã‚º</h2>

                        <!-- Windowsé£æ ¼è¿›åº¦æ¡ -->
                        <div class="windows-progress-container">
                            <div class="countdown-display">
                                <span id="countdown-current">0ç§’</span>
                                <span class="countdown-total" id="countdown-total">/ 3åˆ†</span>
                            </div>
                            <div class="windows-progress-bar">
                                <div class="progress-fill" id="progress-fill"></div>
                                <div class="progress-text" id="progress-percent">0%</div>
                            </div>
                        </div>

                        <div class="breath-circle">
                            <span class="breath-text" id="breath-text">å¸ã£ã¦...</span>
                        </div>

                        <p id="meditation-guide" style="margin-top: 25px;">å‘¼å¸ã«æ„è­˜ã‚’å‘ã‘ã¦ã€å††ã®ãƒªã‚ºãƒ ã«å¾“ã£ã¦...</p>
                    </div>
                </div>

                <!-- è¯„ä¼°æ¸…å• -->
                <div class="screen" id="evaluation">
                    <div class="back-button" onclick="goBack()">â†</div>
                    <div class="next-button" onclick="proceedToComplete()">â†’</div>
                    <h2 id="evaluation-title">è©•ä¾¡ã®æº–å‚™</h2>
                    <p id="evaluation-subtitle">AIãŒã‚¿ã‚¹ã‚¯ã‚’å®Œäº†ã—ã¾ã—ãŸã€‚æ–°ã—ã„è¦–ç‚¹ã§çµæœã‚’ç¢ºèªã—ã¦ãã ã•ã„</p>

                    <div class="checklist" id="checklist-container">
                        <!-- åŠ¨æ€ç”Ÿæˆçš„æ£€æŸ¥é¡¹ -->
                    </div>

                    <div style="text-align: center;">
                        <button class="btn" id="continue-btn" onclick="proceedToComplete()">ç¶šã‘ã‚‹</button>
                    </div>
                </div>


            </div>
        </div>
    </div>

    <!-- ä»»åŠ¡å¤„ç†çª—å£ -->
    <div class="task-window" id="task-window">
        <div class="window-titlebar">
            <div class="window-title" id="task-window-title">AI Task Processing</div>
            <div class="window-controls">
                <div class="window-control window-minimize" onclick="minimizeTaskWindow()"></div>
                <div class="window-control window-maximize disabled"></div>
                <div class="window-control window-close" onclick="closeTaskWindow()"></div>
            </div>
        </div>
        <div class="task-content">
            <div class="task-animation" id="task-animation">ğŸ“§</div>
            <div class="task-progress">
                <div class="task-progress-bar" id="task-progress-bar"></div>
            </div>
            <div class="task-status" id="task-status">Processing your request...</div>

            <div class="task-result" id="task-result">
                <div class="result-icon">âœ…</div>
                <div class="result-title" id="result-title">Task Completed</div>
                <div class="result-description" id="result-description">Your email has been successfully generated and
                    is ready for review.</div>
            </div>
        </div>
    </div>

    <!-- å®Œæˆå¯¹è¯æ¡† -->
    <div class="completion-dialog" id="completion-dialog">
        <div class="dialog-titlebar">
            <div class="title">AIå”åƒç‘æƒ³ã‚·ã‚¹ãƒ†ãƒ  - å®Œäº†</div>
            <div class="dialog-close" onclick="location.reload()">Ã—</div>
        </div>
        <div class="dialog-content">
            <h3 id="complete-title" style="margin: 20px; text-align: center; color: #333;">ä½“é¨“å®Œäº†</h3>
            <p id="complete-subtitle" style="text-align: center; margin: 0 20px 20px; color: #666; font-size: 14px;">
                AIå”åƒç‘æƒ³ã®å®Œå…¨ãªãƒ•ãƒ­ãƒ¼ã‚’ä½“é¨“ã—ã¾ã—ãŸ</p>

            <ul class="value-points" id="value-list" style="margin: 20px; list-style: none; padding: 0;">
                <li style="padding: 8px 0; color: #333; font-size: 13px; display: flex; align-items: flex-start;">
                    <span style="color: #4CAF50; margin-right: 8px;">âœ“</span>
                    ãƒ‡ã‚¸ã‚¿ãƒ«ç–²åŠ´ã¨æˆ¦ã„ã€å¿…è¦ãªå›å¾©æ™‚é–“ã‚’ä½œã‚‹
                </li>
                <li style="padding: 8px 0; color: #333; font-size: 13px; display: flex; align-items: flex-start;">
                    <span style="color: #4CAF50; margin-right: 8px;">âœ“</span>
                    åˆ¤æ–­ã®è³ªã‚’å‘ä¸Šã•ã›ã€ã‚¨ãƒ©ãƒ¼ã¨æ‰‹æˆ»ã‚Šã‚’å‰Šæ¸›
                </li>
                <li style="padding: 8px 0; color: #333; font-size: 13px; display: flex; align-items: flex-start;">
                    <span style="color: #4CAF50; margin-right: 8px;">âœ“</span>
                    èªçŸ¥ãƒªã‚½ãƒ¼ã‚¹ã‚’ä¿è­·ã—ã€ä¸€æ—¥ä¸­é›†ä¸­åŠ›ã‚’ç¶­æŒ
                </li>
                <li style="padding: 8px 0; color: #333; font-size: 13px; display: flex; align-items: flex-start;">
                    <span style="color: #4CAF50; margin-right: 8px;">âœ“</span>
                    AIãƒ„ãƒ¼ãƒ«ã‚’ä»£æ›¿å“ã‹ã‚‰çœŸã®ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã¸
                </li>
            </ul>

            <div style="text-align: center; margin: 20px;">
                <button onclick="confirmAndShowTask()" id="restart-btn"
                    style="background: #0078d4; color: white; border: 1px outset #0078d4; padding: 8px 20px; cursor: pointer; font-size: 12px;">ç¢ºèª</button>
            </div>
        </div>
    </div>

    <script>
        // å¤šè¯­è¨€æ”¯æŒ
        const translations = {
            ja: {
                'main-title': 'AIå”åƒç‘æƒ³ã‚·ã‚¹ãƒ†ãƒ ',
                'main-subtitle': 'å¾…ã¡æ™‚é–“ã‚’å›å¾©æ™‚é–“ã«å¤‰ãˆã‚‹',
                'task-title': 'ä½œæ¥­ã‚’é¸æŠã—ã¦ãã ã•ã„',
                'task-email': 'ãƒ¡ãƒ¼ãƒ«ä½œæˆ',
                'task-email-duration': 'ç‘æƒ³: 3åˆ†',
                'task-report': 'ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ',
                'task-report-duration': 'ç‘æƒ³: 6åˆ†',
                'task-code': 'ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ',
                'task-code-duration': 'ç‘æƒ³: 5åˆ†',
                'task-analysis': 'ãƒ‡ãƒ¼ã‚¿åˆ†æ',
                'task-analysis-duration': 'ç‘æƒ³: 10åˆ†',
                'flow-title': 'ä½“é¨“ãƒ•ãƒ­ãƒ¼',
                'selected-task': 'é¸æŠã•ã‚ŒãŸã‚¿ã‚¹ã‚¯',
                'feature-list': [
                    'AIãŒã‚¿ã‚¹ã‚¯ã®å‡¦ç†ã‚’é–‹å§‹',
                    'é©åˆ‡ãªç‘æƒ³ã§ãƒ‡ã‚¸ã‚¿ãƒ«ç–²åŠ´ã¨æˆ¦ã†',
                    'ã€Œå—å‹•çš„å—ä¿¡ã€ã‹ã‚‰ã€Œèƒ½å‹•çš„è©•ä¾¡ã€ã¸',
                    'ç‰©ç†çš„ç¢ºèªã§æ³¨æ„åŠ›ã‚’å›å¾©'
                ],
                'start-btn': 'ä½“é¨“ã‚’é–‹å§‹',
                'meditation-title': 'å‘¼å¸ã‚¨ã‚¯ã‚µã‚µã‚¤ã‚º',
                'breath-inhale': 'å¸ã£ã¦...',
                'breath-hold': 'ä¿æŒ...',
                'breath-exhale': 'åã„ã¦...',
                'meditation-guides': [
                    'å‘¼å¸ã«æ„è­˜ã‚’å‘ã‘ã¦ã€å††ã®ãƒªã‚ºãƒ ã«å¾“ã£ã¦...',
                    'è‚©ã«æ³¨æ„ã‚’å‘ã‘ã¦ã€ãã£ã¨ä¸‹ã‚ã—ã¦...',
                    'æ€è€ƒãŒæµ®ã‹ã‚“ã ã‚‰ã€å„ªã—ãæ°—ã¥ã„ã¦...',
                    'æ¤…å­ã¨ã®æ¥è§¦ç‚¹ã‚’æ„Ÿã˜ã¦...',
                    'AIã®æˆæœã‚’æ–°ã—ã„è¦–ç‚¹ã§è¦‹ã‚‹æº–å‚™...'
                ],
                'evaluation-title': 'è©•ä¾¡ã®æº–å‚™',
                'evaluation-subtitle': 'AIãŒã‚¿ã‚¹ã‚¯ã‚’å®Œäº†ã—ã¾ã—ãŸã€‚æ–°ã—ã„è¦–ç‚¹ã§çµæœã‚’ç¢ºèªã—ã¦ãã ã•ã„',
                'continue-btn': 'ç¶šã‘ã‚‹',
                'complete-title': 'ä½“é¨“å®Œäº†',
                'complete-subtitle': 'AIå”åƒç‘æƒ³ã®å®Œå…¨ãªãƒ•ãƒ­ãƒ¼ã‚’ä½“é¨“ã—ã¾ã—ãŸ',
                'value-list': [
                    'ãƒ‡ã‚¸ã‚¿ãƒ«ç–²åŠ´ã¨æˆ¦ã„ã€å¿…è¦ãªå›å¾©æ™‚é–“ã‚’ä½œã‚‹',
                    'åˆ¤æ–­ã®è³ªã‚’å‘ä¸Šã•ã›ã€ã‚¨ãƒ©ãƒ¼ã¨æ‰‹æˆ»ã‚Šã‚’å‰Šæ¸›',
                    'èªçŸ¥ãƒªã‚½ãƒ¼ã‚¹ã‚’ä¿è­·ã—ã€ä¸€æ—¥ä¸­é›†ä¸­åŠ›ã‚’ç¶­æŒ',
                    'AIãƒ„ãƒ¼ãƒ«ã‚’ä»£æ›¿å“ã‹ã‚‰çœŸã®ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã¸'
                ],
                'restart-btn': 'ç¢ºèª',
                'checklist': {
                    email: [
                        { title: 'æ„å›³ã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æ•´åˆæ€§', desc: 'ã“ã®ãƒ¡ãƒ¼ãƒ«ã¯ç§ãŒä¼ãˆãŸã„ã‚³ã‚¢ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æ­£ç¢ºã«ä¼ãˆã¦ã„ã¾ã™ã‹ï¼Ÿ' },
                        { title: 'ãƒˆãƒ¼ãƒ³ã¨å—ä¿¡è€…ã®ãƒãƒƒãƒãƒ³ã‚°', desc: 'è¨€è‘‰é£ã„ã¨ãƒˆãƒ¼ãƒ³ã¯å—ä¿¡è€…ã®ç«‹å ´ã¨ç§ãŸã¡ã®é–¢ä¿‚ã«é©ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ' },
                        { title: 'é‡è¦æƒ…å ±ã®å®Œå…¨æ€§', desc: 'ã™ã¹ã¦ã®å¿…è¦ãªæƒ…å ±ãŒå«ã¾ã‚Œã€ä¸é©åˆ‡ãªå†…å®¹ã¯ã‚ã‚Šã¾ã›ã‚“ã‹ï¼Ÿ' }
                    ],
                    report: [
                        { title: 'ãƒ‡ãƒ¼ã‚¿ã®æ­£ç¢ºæ€§ã¨å®Œå…¨æ€§', desc: 'ã™ã¹ã¦ã®æ•°å€¤ã¨ã‚°ãƒ©ãƒ•ã¯æ­£ç¢ºã§æœ€æ–°ã§ã™ã‹ï¼Ÿ' },
                        { title: 'è«–ç†æ§‹é€ ã¨èª¬å¾—åŠ›', desc: 'è­°è«–ã®æµã‚Œã¯è«–ç†çš„ã§ã€çµè«–ã¯ååˆ†ã«ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ' },
                        { title: 'ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒªãƒ¼ã®æ˜ç¢ºã•', desc: 'ä¸»è¦ãªæ´å¯Ÿã¨æ¨å¥¨äº‹é …ã¯æ˜ç¢ºã«ä¼ã‚ã‚Šã¾ã™ã‹ï¼Ÿ' }
                    ],
                    code: [
                        { title: 'ã‚³ãƒ¼ãƒ‰ã®å“è³ªã¨ä¿å®ˆæ€§', desc: 'ã‚³ãƒ¼ãƒ‰ã¯èª­ã¿ã‚„ã™ãã€é©åˆ‡ã«ã‚³ãƒ¡ãƒ³ãƒˆã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ' },
                        { title: 'ã‚¨ãƒ©ãƒ¼å‡¦ç†ã¨ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹', desc: 'ã™ã¹ã¦ã®æ½œåœ¨çš„ãªã‚¨ãƒ©ãƒ¼ã¨ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãŒå‡¦ç†ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ' },
                        { title: 'ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£', desc: 'ã‚³ãƒ¼ãƒ‰ã¯åŠ¹ç‡çš„ã§ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã«å¾“ã£ã¦ã„ã¾ã™ã‹ï¼Ÿ' }
                    ],
                    analysis: [
                        { title: 'ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã®ä¿¡é ¼æ€§', desc: 'ä½¿ç”¨ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã¯ä¿¡é ¼ã§ãã€é©åˆ‡ã§ã™ã‹ï¼Ÿ' },
                        { title: 'åˆ†ææ‰‹æ³•ã®é©åˆ‡æ€§', desc: 'é¸æŠã•ã‚ŒãŸåˆ†ææ‰‹æ³•ã¯å•é¡Œã«é©ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ' },
                        { title: 'æ´å¯Ÿã®å®Ÿç”¨æ€§', desc: 'å¾—ã‚‰ã‚ŒãŸæ´å¯Ÿã¯å®Ÿè¡Œå¯èƒ½ã§ä¾¡å€¤ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿ' }
                    ]
                }
            },
            en: {
                'main-title': 'AI Collaboration Meditation System',
                'main-subtitle': 'Transform waiting time into recovery time',
                'task-title': 'Select your task',
                'task-email': 'Email Drafting',
                'task-email-duration': 'Meditation: 3 min',
                'task-report': 'Report Creation',
                'task-report-duration': 'Meditation: 6 min',
                'task-code': 'Code Generation',
                'task-code-duration': 'Meditation: 5 min',
                'task-analysis': 'Data Analysis',
                'task-analysis-duration': 'Meditation: 10 min',
                'flow-title': 'Experience Flow',
                'selected-task': 'Selected Task',
                'feature-list': [
                    'AI begins processing your task',
                    'Combat digital fatigue with guided meditation',
                    'Shift from "passive receiver" to "active evaluator"',
                    'Physical confirmation reinforces attention return'
                ],
                'start-btn': 'Start Experience',
                'meditation-title': 'Breathing Exercise',
                'breath-inhale': 'Inhale...',
                'breath-hold': 'Hold...',
                'breath-exhale': 'Exhale...',
                'meditation-guides': [
                    'Focus on your breath, following the rhythm of the circle...',
                    'Notice your shoulders, let them gently drop...',
                    'If thoughts arise, gently acknowledge them...',
                    'Feel the contact points with your chair...',
                    'Prepare to see AI\'s work with fresh eyes...'
                ],
                'evaluation-title': 'Prepare to Evaluate',
                'evaluation-subtitle': 'AI has completed the task. Review the results with a fresh perspective',
                'continue-btn': 'Continue',
                'complete-title': 'Experience Complete',
                'complete-subtitle': 'You\'ve experienced the complete AI collaboration meditation flow',
                'value-list': [
                    'Combat digital fatigue, create necessary recovery time',
                    'Improve judgment quality, reduce errors and rework',
                    'Protect cognitive resources, maintain focus throughout the day',
                    'Transform AI tools from replacements to true collaboration partners'
                ],
                'restart-btn': 'Confirm',
                'checklist': {
                    email: [
                        { title: 'Intent & Content Alignment', desc: 'Does this email accurately convey the core message I want to communicate?' },
                        { title: 'Tone & Recipient Match', desc: 'Is the wording and tone appropriate for the recipient?' },
                        { title: 'Key Information Completeness', desc: 'Are all necessary details included without inappropriate content?' }
                    ],
                    report: [
                        { title: 'Data Accuracy & Completeness', desc: 'Are all numbers and charts accurate and up-to-date?' },
                        { title: 'Logical Structure', desc: 'Is the argument flow logical and well-supported?' },
                        { title: 'Executive Summary Clarity', desc: 'Are key insights clearly communicated?' }
                    ],
                    code: [
                        { title: 'Code Quality', desc: 'Is the code readable and properly commented?' },
                        { title: 'Error Handling', desc: 'Are all potential errors handled?' },
                        { title: 'Performance & Security', desc: 'Is the code efficient and secure?' }
                    ],
                    analysis: [
                        { title: 'Data Source Reliability', desc: 'Are the data sources reliable and appropriate?' },
                        { title: 'Analysis Method', desc: 'Are the methods suitable for the problem?' },
                        { title: 'Insight Actionability', desc: 'Are the insights actionable and valuable?' }
                    ]
                }
            },
            zh: {
                'main-title': 'AIåä½œå†¥æƒ³ç³»ç»Ÿ',
                'main-subtitle': 'å°†ç­‰å¾…æ—¶é—´è½¬åŒ–ä¸ºæ¢å¤æ—¶é—´',
                'task-title': 'é€‰æ‹©æ‚¨çš„ä»»åŠ¡',
                'task-email': 'é‚®ä»¶æ’°å†™',
                'task-email-duration': 'å†¥æƒ³: 3åˆ†é’Ÿ',
                'task-report': 'æŠ¥å‘Šç”Ÿæˆ',
                'task-report-duration': 'å†¥æƒ³: 6åˆ†é’Ÿ',
                'task-code': 'ä»£ç ç”Ÿæˆ',
                'task-code-duration': 'å†¥æƒ³: 5åˆ†é’Ÿ',
                'task-analysis': 'æ•°æ®åˆ†æ',
                'task-analysis-duration': 'å†¥æƒ³: 10åˆ†é’Ÿ',
                'flow-title': 'ä½“éªŒæµç¨‹',
                'selected-task': 'å·²é€‰ä»»åŠ¡',
                'feature-list': [
                    'AIå¼€å§‹å¤„ç†ä»»åŠ¡',
                    'é€šè¿‡é€‚æ—¶å†¥æƒ³å¯¹æŠ—æ•°å­—ç–²åŠ³',
                    'ä»"è¢«åŠ¨æ¥æ”¶"è½¬ä¸º"ä¸»åŠ¨è¯„ä¼°"',
                    'ç‰©ç†ç¡®è®¤å¼ºåŒ–æ³¨æ„åŠ›å›å½’'
                ],
                'start-btn': 'å¼€å§‹ä½“éªŒ',
                'meditation-title': 'å‘¼å¸ç»ƒä¹ ',
                'breath-inhale': 'å¸æ°”...',
                'breath-hold': 'ä¿æŒ...',
                'breath-exhale': 'å‘¼æ°”...',
                'meditation-guides': [
                    'å°†æ³¨æ„åŠ›æ”¾åœ¨å‘¼å¸ä¸Šï¼Œéšç€åœ†åœˆçš„èŠ‚å¥...',
                    'æ³¨æ„æ‚¨çš„è‚©è†€ï¼Œè®©å®ƒä»¬è½»è½»ä¸‹æ²‰...',
                    'å¦‚æœæœ‰æƒ³æ³•æµ®ç°ï¼Œæ¸©å’Œåœ°è§‰å¯Ÿå®ƒ...',
                    'æ„Ÿå—èº«ä½“ä¸æ¤…å­çš„æ¥è§¦ç‚¹...',
                    'å‡†å¤‡ä»¥å…¨æ–°çš„è§†è§’çœ‹å¾…AIçš„æˆæœ...'
                ],
                'evaluation-title': 'å‡†å¤‡è¯„ä¼°',
                'evaluation-subtitle': 'AIå·²å®Œæˆä»»åŠ¡ã€‚è¯·ä»¥å…¨æ–°è§†è§’å®¡è§†ç»“æœ',
                'continue-btn': 'ç»§ç»­',
                'complete-title': 'ä½“éªŒå®Œæˆ',
                'complete-subtitle': 'æ‚¨å·²ä½“éªŒäº†å®Œæ•´çš„AIåä½œå†¥æƒ³æµç¨‹',
                'value-list': [
                    'å¯¹æŠ—æ•°å­—ç–²åŠ³ï¼Œåˆ›é€ å¿…è¦çš„æ¢å¤æ—¶é—´',
                    'æå‡åˆ¤æ–­è´¨é‡ï¼Œå‡å°‘é”™è¯¯å’Œè¿”å·¥',
                    'ä¿æŠ¤è®¤çŸ¥èµ„æºï¼Œç»´æŒå·¥ä½œæ—¥çš„æŒç»­ä¸“æ³¨',
                    'å°†AIå·¥å…·ä»æ›¿ä»£å“å˜ä¸ºçœŸæ­£çš„åä½œä¼™ä¼´'
                ],
                'restart-btn': 'ç¡®è®¤',
                'checklist': {
                    email: [
                        { title: 'æ„å›¾ä¸å†…å®¹å¯¹é½', desc: 'è¿™ä»½é‚®ä»¶æ˜¯å¦å‡†ç¡®ä¼ è¾¾äº†æˆ‘æƒ³è¡¨è¾¾çš„æ ¸å¿ƒä¿¡æ¯ï¼Ÿ' },
                        { title: 'è¯­æ°”ä¸æ¥æ”¶è€…åŒ¹é…', desc: 'æªè¾å’Œè¯­æ°”æ˜¯å¦é€‚åˆæ”¶ä»¶äººï¼Ÿ' },
                        { title: 'å…³é”®ä¿¡æ¯å®Œæ•´æ€§', desc: 'æ˜¯å¦åŒ…å«æ‰€æœ‰å¿…è¦ä¿¡æ¯ï¼Ÿ' }
                    ],
                    report: [
                        { title: 'æ•°æ®å‡†ç¡®æ€§', desc: 'æ‰€æœ‰æ•°å­—å’Œå›¾è¡¨æ˜¯å¦å‡†ç¡®ä¸”æœ€æ–°ï¼Ÿ' },
                        { title: 'é€»è¾‘ç»“æ„', desc: 'è®ºè¯æµç¨‹æ˜¯å¦åˆç†ï¼Ÿ' },
                        { title: 'æ‘˜è¦æ¸…æ™°åº¦', desc: 'å…³é”®æ´å¯Ÿæ˜¯å¦æ¸…æ™°ä¼ è¾¾ï¼Ÿ' }
                    ],
                    code: [
                        { title: 'ä»£ç è´¨é‡', desc: 'ä»£ç æ˜¯å¦æ˜“è¯»ä¸”æœ‰é€‚å½“æ³¨é‡Šï¼Ÿ' },
                        { title: 'é”™è¯¯å¤„ç†', desc: 'æ˜¯å¦å¤„ç†äº†æ‰€æœ‰æ½œåœ¨é”™è¯¯ï¼Ÿ' },
                        { title: 'æ€§èƒ½ä¸å®‰å…¨', desc: 'ä»£ç æ˜¯å¦é«˜æ•ˆä¸”å®‰å…¨ï¼Ÿ' }
                    ],
                    analysis: [
                        { title: 'æ•°æ®æºå¯é æ€§', desc: 'æ•°æ®æºæ˜¯å¦å¯é ä¸”åˆé€‚ï¼Ÿ' },
                        { title: 'åˆ†ææ–¹æ³•', desc: 'æ–¹æ³•æ˜¯å¦é€‚åˆé—®é¢˜ï¼Ÿ' },
                        { title: 'æ´å¯Ÿå¯æ“ä½œæ€§', desc: 'æ´å¯Ÿæ˜¯å¦å¯æ‰§è¡Œä¸”æœ‰ä»·å€¼ï¼Ÿ' }
                    ]
                }
            }
        };

        // ä»»åŠ¡é…ç½®
        const taskConfig = {
            email: {
                duration: 180, // 3åˆ†é’Ÿ
                progressSpeed: 100 / 180,
                icon: 'ğŸ“§',
                title: 'Email Processing',
                titleJa: 'ãƒ¡ãƒ¼ãƒ«ä½œæˆä¸­',
                titleEn: 'Email Processing',
                titleZh: 'é‚®ä»¶å¤„ç†ä¸­',
                animation: ['ğŸ“§', 'âœï¸', 'ğŸ“', 'ğŸ“¤'],
                resultTitle: 'Email Generated',
                resultTitleJa: 'ãƒ¡ãƒ¼ãƒ«ç”Ÿæˆå®Œäº†',
                resultTitleEn: 'Email Generated',
                resultTitleZh: 'é‚®ä»¶ç”Ÿæˆå®Œæˆ',
                resultDesc: 'Your professional email has been crafted and is ready for review.',
                resultDescJa: 'ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªãƒ¡ãƒ¼ãƒ«ãŒä½œæˆã•ã‚Œã€ç¢ºèªã®æº–å‚™ãŒã§ãã¾ã—ãŸã€‚',
                resultDescEn: 'Your professional email has been crafted and is ready for review.',
                resultDescZh: 'æ‚¨çš„ä¸“ä¸šé‚®ä»¶å·²åˆ¶ä½œå®Œæˆï¼Œå¯ä¾›å®¡é˜…ã€‚'
            },
            report: {
                duration: 360, // 6åˆ†é’Ÿ
                progressSpeed: 100 / 360,
                icon: 'ğŸ“‹',
                title: 'Report Generation',
                titleJa: 'ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆä¸­',
                titleEn: 'Report Generation',
                titleZh: 'æŠ¥å‘Šç”Ÿæˆä¸­',
                animation: ['ğŸ“‹', 'ğŸ“Š', 'ğŸ“ˆ', 'ğŸ“„'],
                resultTitle: 'Report Completed',
                resultTitleJa: 'ãƒ¬ãƒãƒ¼ãƒˆå®Œæˆ',
                resultTitleEn: 'Report Completed',
                resultTitleZh: 'æŠ¥å‘Šå®Œæˆ',
                resultDesc: 'Comprehensive report with data analysis and insights has been generated.',
                resultDescJa: 'ãƒ‡ãƒ¼ã‚¿åˆ†æã¨æ´å¯Ÿã‚’å«ã‚€åŒ…æ‹¬çš„ãªãƒ¬ãƒãƒ¼ãƒˆãŒç”Ÿæˆã•ã‚Œã¾ã—ãŸã€‚',
                resultDescEn: 'Comprehensive report with data analysis and insights has been generated.',
                resultDescZh: 'åŒ…å«æ•°æ®åˆ†æå’Œæ´å¯Ÿçš„ç»¼åˆæŠ¥å‘Šå·²ç”Ÿæˆã€‚'
            },
            code: {
                duration: 300, // 5åˆ†é’Ÿ
                progressSpeed: 100 / 300,
                icon: 'âš™ï¸',
                title: 'Code Generation',
                titleJa: 'ã‚³ãƒ¼ãƒ‰ç”Ÿæˆä¸­',
                titleEn: 'Code Generation',
                titleZh: 'ä»£ç ç”Ÿæˆä¸­',
                animation: ['âš™ï¸', 'ğŸ’»', 'ğŸ”§', 'âœ…'],
                resultTitle: 'Code Generated',
                resultTitleJa: 'ã‚³ãƒ¼ãƒ‰ç”Ÿæˆå®Œäº†',
                resultTitleEn: 'Code Generated',
                resultTitleZh: 'ä»£ç ç”Ÿæˆå®Œæˆ',
                resultDesc: 'Clean, efficient code has been generated according to your specifications.',
                resultDescJa: 'ä»•æ§˜ã«å¾“ã£ã¦ã€ã‚¯ãƒªãƒ¼ãƒ³ã§åŠ¹ç‡çš„ãªã‚³ãƒ¼ãƒ‰ãŒç”Ÿæˆã•ã‚Œã¾ã—ãŸã€‚',
                resultDescEn: 'Clean, efficient code has been generated according to your specifications.',
                resultDescZh: 'æ ¹æ®æ‚¨çš„è§„æ ¼ç”Ÿæˆäº†æ¸…æ´ã€é«˜æ•ˆçš„ä»£ç ã€‚'
            },
            analysis: {
                duration: 600, // 10åˆ†é’Ÿ
                progressSpeed: 100 / 600,
                icon: 'ğŸ“Š',
                title: 'Data Analysis',
                titleJa: 'ãƒ‡ãƒ¼ã‚¿åˆ†æä¸­',
                titleEn: 'Data Analysis',
                titleZh: 'æ•°æ®åˆ†æä¸­',
                animation: ['ğŸ“Š', 'ğŸ“ˆ', 'ğŸ”', 'ğŸ’¡'],
                resultTitle: 'Analysis Complete',
                resultTitleJa: 'åˆ†æå®Œäº†',
                resultTitleEn: 'Analysis Complete',
                resultTitleZh: 'åˆ†æå®Œæˆ',
                resultDesc: 'Detailed data analysis with actionable insights and recommendations.',
                resultDescJa: 'å®Ÿè¡Œå¯èƒ½ãªæ´å¯Ÿã¨æ¨å¥¨äº‹é …ã‚’å«ã‚€è©³ç´°ãªãƒ‡ãƒ¼ã‚¿åˆ†æã€‚',
                resultDescEn: 'Detailed data analysis with actionable insights and recommendations.',
                resultDescZh: 'è¯¦ç»†çš„æ•°æ®åˆ†æï¼ŒåŒ…å«å¯æ“ä½œçš„æ´å¯Ÿå’Œå»ºè®®ã€‚'
            }
        };

        // å…¨å±€å˜é‡
        let currentLanguage = 'ja';
        let selectedTask = null;
        let currentScreen = 'welcome';
        let previousScreen = null;
        let meditationTimer = null;
        let breathTimer = null;
        let spacePressed = false;
        let countdownTimer = null;
        let isMaximized = false;
        let taskWindowMaximized = false;
        let taskAnimationTimer = null;
        let taskProgressTimer = null;

        // Windowsåº”ç”¨æ§åˆ¶
        function openApp() {
            document.getElementById('app-window').classList.add('active');
            document.getElementById('taskbar-app').style.display = 'flex';
        }

        function closeApp() {
            document.getElementById('app-window').classList.remove('active');
            document.getElementById('taskbar-app').style.display = 'none';
            document.getElementById('completion-dialog').classList.remove('active');
            location.reload(); // é‡ç½®åº”ç”¨çŠ¶æ€
        }

        function minimizeApp() {
            document.getElementById('app-window').classList.remove('active');
        }

        function maximizeApp() {
            const appWindow = document.getElementById('app-window');
            if (!isMaximized) {
                appWindow.style.width = '100%';
                appWindow.style.height = 'calc(100% - 48px)';
                appWindow.style.maxWidth = 'none';
                appWindow.style.maxHeight = 'none';
                appWindow.style.top = '0';
                appWindow.style.left = '0';
                appWindow.style.transform = 'none';
                appWindow.style.borderRadius = '0';
                isMaximized = true;
            } else {
                appWindow.style.width = '90%';
                appWindow.style.height = '80%';
                appWindow.style.maxWidth = '900px';
                appWindow.style.maxHeight = '600px';
                appWindow.style.top = '50%';
                appWindow.style.left = '50%';
                appWindow.style.transform = 'translate(-50%, -50%)';
                appWindow.style.borderRadius = '8px 8px 0 0';
                isMaximized = false;
            }
        }

        function focusApp() {
            document.getElementById('app-window').classList.add('active');
        }

        // æ›´æ–°ä»»åŠ¡æ æ—¶é—´
        function updateTaskbarTime() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            document.getElementById('taskbar-time').innerHTML = `${hours}:${minutes}<br>${now.toLocaleDateString()}`;
        }
        setInterval(updateTaskbarTime, 1000);
        updateTaskbarTime();

        // ä»»åŠ¡çª—å£æ§åˆ¶
        function openTaskWindow() {
            document.getElementById('task-window').classList.add('active');
            document.getElementById('taskbar-task').style.display = 'flex';
        }

        function closeTaskWindow() {
            document.getElementById('task-window').classList.remove('active');
            document.getElementById('taskbar-task').style.display = 'none';
            clearInterval(taskAnimationTimer);
            clearInterval(taskProgressTimer);
            
            // åŒæ™‚é—œé–‰AIå”åŠ©å†¥æƒ³ç³»çµ±
            closeApp();
        }

        function minimizeTaskWindow() {
            document.getElementById('task-window').classList.remove('active');
        }

        function maximizeTaskWindow() {
            const taskWindow = document.getElementById('task-window');
            if (!taskWindowMaximized) {
                taskWindow.style.width = '100%';
                taskWindow.style.height = 'calc(100% - 48px)';
                taskWindow.style.top = '0';
                taskWindow.style.right = '0';
                taskWindow.style.borderRadius = '0';
                taskWindowMaximized = true;
            } else {
                taskWindow.style.width = '400px';
                taskWindow.style.height = '300px';
                taskWindow.style.top = '10%';
                taskWindow.style.right = '5%';
                taskWindow.style.borderRadius = '8px 8px 0 0';
                taskWindowMaximized = false;
            }
        }

        function focusTaskWindow() {
            document.getElementById('task-window').classList.add('active');
        }

        // çª—å£æ‹–æ‹½åŠŸèƒ½
        let isDragging = false;
        let currentWindow = null;
        let dragOffset = { x: 0, y: 0 };

        function initWindowDragging() {
            // ä¸»åº”ç”¨çª—å£æ‹–æ‹½
            const appTitlebar = document.querySelector('#app-window .window-titlebar');
            const appWindow = document.getElementById('app-window');

            appTitlebar.addEventListener('mousedown', (e) => {
                if (e.target.classList.contains('window-control')) return;
                startDrag(e, appWindow);
            });

            // ä»»åŠ¡çª—å£æ‹–æ‹½
            const taskTitlebar = document.querySelector('#task-window .window-titlebar');
            const taskWindow = document.getElementById('task-window');

            taskTitlebar.addEventListener('mousedown', (e) => {
                if (e.target.classList.contains('window-control')) return;
                startDrag(e, taskWindow);
            });

            // å…¨å±€é¼ æ ‡äº‹ä»¶
            document.addEventListener('mousemove', handleDrag);
            document.addEventListener('mouseup', stopDrag);
        }

        function startDrag(e, window) {
            isDragging = true;
            currentWindow = window;

            const rect = window.getBoundingClientRect();
            dragOffset.x = e.clientX - rect.left;
            dragOffset.y = e.clientY - rect.top;

            window.style.transition = 'none';
            e.preventDefault();
        }

        function handleDrag(e) {
            if (!isDragging || !currentWindow) return;

            const x = e.clientX - dragOffset.x;
            const y = e.clientY - dragOffset.y;

            // é™åˆ¶çª—å£ä¸è¶…å‡ºå±å¹•è¾¹ç•Œ
            const maxX = window.innerWidth - currentWindow.offsetWidth;
            const maxY = window.innerHeight - currentWindow.offsetHeight - 48; // å‡å»ä»»åŠ¡æ é«˜åº¦

            const constrainedX = Math.max(0, Math.min(x, maxX));
            const constrainedY = Math.max(0, Math.min(y, maxY));

            currentWindow.style.left = constrainedX + 'px';
            currentWindow.style.top = constrainedY + 'px';
            currentWindow.style.right = 'auto';
            currentWindow.style.transform = 'none';
        }

        function stopDrag() {
            if (isDragging && currentWindow) {
                currentWindow.style.transition = '';
                isDragging = false;
                currentWindow = null;
            }
        }

        // è¿”å›ä¸Šä¸€é¡µ
        function goBack() {
            if (previousScreen) {
                clearInterval(meditationTimer);
                clearInterval(breathTimer);
                clearInterval(countdownTimer);

                if (previousScreen === 'welcome') {
                    selectedTask = null;
                    document.querySelectorAll('.task-card').forEach(card => card.classList.remove('selected'));
                }

                switchScreen(previousScreen);
            }
        }

        // è¯­è¨€åˆ‡æ¢
        function changeLanguage(lang) {
            currentLanguage = lang;
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            updateUILanguage();
        }

        function updateUILanguage() {
            const t = translations[currentLanguage];

            document.getElementById('main-title').textContent = t['main-title'];
            document.getElementById('main-subtitle').textContent = t['main-subtitle'];
            document.getElementById('task-title').textContent = t['task-title'];
            document.getElementById('flow-title').textContent = t['flow-title'];
            document.getElementById('start-btn').textContent = t['start-btn'];
            document.getElementById('meditation-title').textContent = t['meditation-title'];
            document.getElementById('evaluation-title').textContent = t['evaluation-title'];
            document.getElementById('evaluation-subtitle').textContent = t['evaluation-subtitle'];
            document.getElementById('continue-btn').textContent = t['continue-btn'];
            document.getElementById('complete-title').textContent = t['complete-title'];
            document.getElementById('complete-subtitle').textContent = t['complete-subtitle'];
            document.getElementById('restart-btn').textContent = t['restart-btn'];

            document.querySelectorAll('[data-i18n]').forEach(elem => {
                const key = elem.getAttribute('data-i18n');
                if (t[key]) {
                    elem.textContent = t[key];
                }
            });

            const featureList = document.getElementById('feature-list');
            if (featureList) {
                featureList.innerHTML = '';
                t['feature-list'].forEach(item => {
                    const li = document.createElement('li');
                    li.textContent = item;
                    featureList.appendChild(li);
                });
            }

            const valueList = document.getElementById('value-list');
            if (valueList) {
                valueList.innerHTML = '';
                t['value-list'].forEach(item => {
                    const li = document.createElement('li');
                    li.textContent = item;
                    valueList.appendChild(li);
                });
            }
        }

        // ä»»åŠ¡é€‰æ‹©
        function selectTask(task) {
            selectedTask = task;
            document.querySelectorAll('.task-card').forEach(card => card.classList.remove('selected'));
            event.target.closest('.task-card').classList.add('selected');

            setTimeout(() => {
                showFlowScreen();
            }, 300);
        }

        // æ˜¾ç¤ºæµç¨‹è¯´æ˜
        function showFlowScreen() {
            const t = translations[currentLanguage];
            const taskNames = {
                email: t['task-email'],
                report: t['task-report'],
                code: t['task-code'],
                analysis: t['task-analysis']
            };

            document.getElementById('selected-task-display').textContent =
                `${t['selected-task']}: ${taskNames[selectedTask]}`;

            switchScreen('flow-screen');
        }

        // å±å¹•åˆ‡æ¢
        function switchScreen(screenId) {
            previousScreen = currentScreen;
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            const screen = document.getElementById(screenId);
            if (screen) {
                screen.classList.add('active');
            }
            currentScreen = screenId;
        }

        // å¼€å§‹æ¼”ç¤º
        function startDemo() {
            if (!selectedTask) return;
            switchScreen('meditation');
            startSimpleMeditation();
            startTaskProcessing();
        }

        // å¼€å§‹ä»»åŠ¡å¤„ç†
        function startTaskProcessing() {
            const config = taskConfig[selectedTask];
            const taskWindow = document.getElementById('task-window');
            const taskAnimation = document.getElementById('task-animation');
            const taskStatus = document.getElementById('task-status');
            const taskProgressBar = document.getElementById('task-progress-bar');
            const taskProgress = document.querySelector('.task-progress');
            const taskResult = document.getElementById('task-result');

            // è®¾ç½®çª—å£æ ‡é¢˜å’Œä»»åŠ¡æ 
            const titleKey = `title${currentLanguage.charAt(0).toUpperCase() + currentLanguage.slice(1)}`;
            document.getElementById('task-window-title').textContent = config[titleKey];
            document.getElementById('taskbar-task-icon').textContent = config.icon;
            document.getElementById('taskbar-task-name').textContent = config[titleKey];

            // æ˜¾ç¤ºä»»åŠ¡çª—å£
            openTaskWindow();

            // é‡ç½®çŠ¶æ€
            taskResult.classList.remove('active');
            taskProgressBar.style.width = '0%';
            
            // é‡æ–°æ˜¾ç¤ºè¿›åº¦æ¡å’ŒçŠ¶æ€æ–‡å­—
            taskProgress.style.display = 'block';
            taskStatus.style.display = 'block';

            // åŠ¨ç”»æ•ˆæœ
            let animationIndex = 0;
            taskAnimationTimer = setInterval(() => {
                taskAnimation.textContent = config.animation[animationIndex % config.animation.length];
                animationIndex++;
            }, 1000);

            // è¿›åº¦æ¡åŠ¨ç”» (15ç§’)
            let progress = 0;
            taskProgressTimer = setInterval(() => {
                progress += 100 / 150; // 15ç§’ = 150ä¸ª100ms
                taskProgressBar.style.width = Math.min(progress, 100) + '%';

                if (progress >= 100) {
                    clearInterval(taskProgressTimer);
                    clearInterval(taskAnimationTimer);
                    showTaskResult();
                }
            }, 100);

            // æ›´æ–°çŠ¶æ€æ–‡æœ¬
            const statusTexts = {
                ja: 'å‡¦ç†ä¸­...',
                en: 'Processing...',
                zh: 'å¤„ç†ä¸­...'
            };
            taskStatus.textContent = statusTexts[currentLanguage];
        }

        // æ˜¾ç¤ºä»»åŠ¡ç»“æœ
        function showTaskResult() {
            const config = taskConfig[selectedTask];
            const taskResult = document.getElementById('task-result');
            const taskProgress = document.querySelector('.task-progress');
            const taskStatus = document.getElementById('task-status');

            // è®¾ç½®ç»“æœå†…å®¹
            const titleKey = `resultTitle${currentLanguage.charAt(0).toUpperCase() + currentLanguage.slice(1)}`;
            const descKey = `resultDesc${currentLanguage.charAt(0).toUpperCase() + currentLanguage.slice(1)}`;

            document.getElementById('result-title').textContent = config[titleKey];
            document.getElementById('result-description').textContent = config[descKey];

            // éšè—è¿›åº¦æ¡å’ŒçŠ¶æ€æ–‡å­—
            taskProgress.style.display = 'none';
            taskStatus.style.display = 'none';

            // æ˜¾ç¤ºç»“æœ
            taskResult.classList.add('active');
        }

        // ç®€åŒ–çš„6ç§’å†¥æƒ³
        function startSimpleMeditation() {
            let elapsed = 0;
            const demoTime = 6;
            const countdownDisplay = document.getElementById('countdown-current');
            const countdownTotal = document.getElementById('countdown-total');
            const progressFill = document.getElementById('progress-fill');
            const progressPercent = document.getElementById('progress-percent');

            const actualDuration = taskConfig[selectedTask].duration;
            const minutes = Math.floor(actualDuration / 60);
            const seconds = actualDuration % 60;

            const totalTimeText = {
                ja: seconds > 0 ? `/ ${minutes}åˆ†${seconds}ç§’` : `/ ${minutes}åˆ†`,
                en: seconds > 0 ? `/ ${minutes}min ${seconds}s` : `/ ${minutes}min`,
                zh: seconds > 0 ? `/ ${minutes}åˆ†${seconds}ç§’` : `/ ${minutes}åˆ†é’Ÿ`
            };

            countdownTotal.textContent = totalTimeText[currentLanguage];

            startBreathingAnimation();
            updateMeditationGuide();

            const updateProgress = () => {
                if (elapsed <= demoTime) {
                    // æ›´æ–°æ—¶é—´æ˜¾ç¤º
                    const secondText = {
                        ja: `${elapsed}ç§’`,
                        en: `${elapsed}s`,
                        zh: `${elapsed}ç§’`
                    };
                    countdownDisplay.textContent = secondText[currentLanguage];

                    // è®¡ç®—ç›¸å¯¹äºå®é™…ä»»åŠ¡æ—¶é•¿çš„è¿›åº¦
                    const actualProgress = (elapsed / actualDuration) * 100;

                    // æ›´æ–°Windowsé£æ ¼è¿›åº¦æ¡
                    if (progressFill) {
                        progressFill.style.width = actualProgress + '%';
                    }
                    if (progressPercent) {
                        progressPercent.textContent = Math.round(actualProgress) + '%';
                    }

                    if (elapsed === demoTime) {
                        setTimeout(() => {
                            clearInterval(breathTimer);
                            clearInterval(countdownTimer);
                            finishMeditation();
                        }, 500);
                    }

                    elapsed++;
                } else {
                    clearInterval(countdownTimer);
                }
            };

            // ç«‹å³æ˜¾ç¤ºåˆå§‹çŠ¶æ€
            updateProgress();

            // æ¯ç§’æ›´æ–°ä¸€æ¬¡
            countdownTimer = setInterval(updateProgress, 1000);
        }

        // å‘¼å¸åŠ¨ç”»
        function startBreathingAnimation() {
            const breathText = document.getElementById('breath-text');
            const t = translations[currentLanguage];
            let phase = 0;
            const phases = [t['breath-inhale'], t['breath-hold'], t['breath-exhale'], t['breath-hold']];

            breathTimer = setInterval(() => {
                if (currentScreen !== 'meditation') {
                    clearInterval(breathTimer);
                    return;
                }
                breathText.textContent = phases[phase];
                phase = (phase + 1) % 4;
            }, 2000);
        }

        // æ›´æ–°å†¥æƒ³å¼•å¯¼
        function updateMeditationGuide() {
            const t = translations[currentLanguage];
            const guides = t['meditation-guides'];
            let guideIndex = 0;
            const guideElement = document.getElementById('meditation-guide');

            const guideInterval = setInterval(() => {
                if (currentScreen !== 'meditation') {
                    clearInterval(guideInterval);
                    return;
                }

                guideIndex = (guideIndex + 1) % guides.length;
                guideElement.style.opacity = '0';
                setTimeout(() => {
                    guideElement.textContent = guides[guideIndex];
                    guideElement.style.opacity = '1';
                }, 300);
            }, 2000);
        }

        // å®Œæˆå†¥æƒ³
        function finishMeditation() {
            clearInterval(breathTimer);
            clearInterval(countdownTimer);
            generateChecklist();
            switchScreen('evaluation');
        }

        // ç”Ÿæˆè¯„ä¼°æ¸…å•
        function generateChecklist() {
            const t = translations[currentLanguage];
            const container = document.getElementById('checklist-container');
            container.innerHTML = '';

            const checklistItems = t['checklist'][selectedTask];

            checklistItems.forEach(item => {
                const div = document.createElement('div');
                div.className = 'checklist-item';
                div.onclick = () => toggleCheck(div);

                div.innerHTML = `
                    <div class="check-circle"></div>
                    <div class="checklist-text">
                        <div class="checklist-title">${item.title}</div>
                        <div class="checklist-desc">${item.desc}</div>
                    </div>
                `;

                container.appendChild(div);
            });
        }

        // åˆ‡æ¢æ£€æŸ¥é¡¹
        function toggleCheck(item) {
            item.classList.toggle('checked');
            if (navigator.vibrate) {
                navigator.vibrate(50);
            }
        }

        // ç»§ç»­åˆ°å®Œæˆ
        function proceedToComplete() {
            // ç›´æ¥æ˜¾ç¤ºå®Œæˆå¯¹è¯æ¡†
            document.getElementById('completion-dialog').classList.add('active');
        }

        // ç¡®è®¤å¹¶æ˜¾ç¤ºä»»åŠ¡çª—å£
        function confirmAndShowTask() {
            // éšè—å®Œæˆå¯¹è¯æ¡†
            document.getElementById('completion-dialog').classList.remove('active');

            // å…³é—­AIååŠ©å†¥æƒ³ç³»ç»Ÿçª—å£
            document.getElementById('app-window').classList.remove('active');
            document.getElementById('taskbar-app').classList.remove('active');

            // å°†ä»»åŠ¡çª—å£ç§»åŠ¨åˆ°ä¸­å¤®å¹¶æ˜¾ç¤º
            const taskWindow = document.getElementById('task-window');
            taskWindow.style.top = '50%';
            taskWindow.style.left = '50%';
            taskWindow.style.right = 'auto';
            taskWindow.style.transform = 'translate(-50%, -50%)';

            // ç¡®ä¿ä»»åŠ¡çª—å£æ˜¾ç¤ºå¹¶èšç„¦
            taskWindow.classList.add('active');
            document.getElementById('taskbar-task').classList.add('active');
        }



        // åˆå§‹åŒ–
        updateUILanguage();
        initWindowDragging();
    </script>
</body>

</html>